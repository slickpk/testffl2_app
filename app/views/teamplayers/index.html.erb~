<h1>Listing teamplayers</h1>
<%#= collection_select(:id, :Team, Teamplayer.all, :id, :playerid) %>

<%#= select(:model, :attribute, Fteam.all.collect {|p| [ p.Team, p.Team ] }) %>

<div id="ListTms">

	<p>List of Teams</p>
<%= select_tag "teams", options_from_collection_for_select(@fteams, "id", "Team") %>
<button id="showbtn">Select Team</button> <button id="importbtn">Import Team</button>

</div>

<div id="ListPlyrs">
	<p>List of All Players</p>
	<select id = "Plyrs" style = float:middle size = 10>
		<% LivePlayer.find_each() do |p| %>
			<option id=<%=p.id %>><%= p.Plyr %></option>
		<% end %>
	</select>	

	<div id="SelectedTm" style= float:right>
		<table id = "PlyrsTm2" style = float:right>
			<tr><th id="PTTitle" colspan=2>List of players on selected team</th></tr>
			<tr><th id="PTHRows">Player</th><th id="PTHRows">Team</th></tr>
			<% @pl.each do |f| %>
				<tr><td class="player"><%= f.Plyr %></td><td class="team"><%= f.Team %></td></tr>
			<% end %>
		</table>
	</div>
</div>



<!--<select id = "Plyrs" style = float:middle size = 10>
	<%# Fteam.find(1).live_players do |f| %>
		<option><%#= f %> <%#= p.Team %></option>
	<%# end %>
	</select>-->




<!--<select id = "Plyrs" style = float:middle size = 10>
	<%# Teamplayer.joins(:live_player).where(:teamid => @ids).all do |f| %>
		<option><%#= f.teamid %> <%#= p.Team %></option>
	<%# end %>
	</select>-->


<!--<select id = "Plyrs" style = float:right size = 10>
	<%# @pl.each do |f| %>
		<option><%#= f.Plyr %> <%#= f.Team %></option>
	<%# end %>
</select>-->
	<%#= select_tag "test3", options_from_collection_for_select(Teamplayer.joins(:live_player), "teamid", "name_team") %>	
	<%#= select_tag "test3", options_from_collection_for_select(Teamplayer.where(:teamid => @ids).all, "teamid", "playerid") %>	
	<%#= select_tag "test3", options_from_collection_for_select(Teamplayer.joins(:live_player).where(:teamid => @ids).all, "playerid", "Plyr") %>
	<%#= select_tag "test3", options_from_collection_for_select(Teamplayer.joins(:live_player).where(:teamid => @ids).all.collect{|p| "#{p.Nid} #{p.Plyr} #{p.Team}"}, "p", "p") %>	
	<%#= select_tag "test3", options_from_collection_for_select(Teamplayer.find(:all, :joins => :liveplayer, :conditions => {:teamid => @ids}), "teamid", "playerid") %>	
<%#= select_tag "test8", options_from_collection_for_select(Liveplayer.all) %>	
</div>

<div>
	<p>Test 4 which errors</p>

<!--	<select id = "test4" style= float:left>
		<%# @teams = Teamplayer.includes(:liveplayer) %>
	<%# @teams.each do |tp| %>
		<option> <%#=tp.Plyr %></option>
	<%# end %>
</select> -->
</div>

<div>
	<p>Test 5</p>

<!-- <select id = "test5" style= float:right>
		 <option><%= select_tag :fteam, options_for_select(Fteam.all.map{|t| [t.Team, t.id]}) %></option>
 </select> -->
</div>

<%#= select_tag :teams, options_for_select(Fteam.all.map{|t| [t.id, t.id]}) %>

<%#= select_tag "teams", options_from_collection_for_select(Fteam.all, "id", "team") %>

<%#= select_tag "teams", options_from_collection_for_select(@fteams, "id", "Team") %>



<div>

  <thead>
    <tr>
      <th>Playerid</th>
      <th>Teamid</th>
      <th> </th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>

    <% @teamplayers.each do |teamplayer| %>
	    <tr>
	   
        <td><%#= teamplayer.playerid %></td>
        <td><%#= teamplayer.teamid %></td>
        <td><%#= link_to 'Show', teamplayer %></td>
        <td><%#= link_to 'Edit', edit_teamplayer_path(teamplayer) %></td>
        <td><%#= link_to 'Destroy', teamplayer, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>

<br>

<input type="text" class="hiddenField" id="myTextBox" style="background-color:transparent;" />
<input type="text" class="hiddenField" id="myTextBox2" style="background-color:transparent;" />

<input type="text" id="txtData" style= "display:none;" />

</body>
<%#= link_to 'New Teamplayer', new_teamplayer_path %>
